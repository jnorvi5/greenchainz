(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[985],{63:(e,a,t)=>{"use strict";var r=t(7260);t.o(r,"useParams")&&t.d(a,{useParams:function(){return r.useParams}}),t.o(r,"useRouter")&&t.d(a,{useRouter:function(){return r.useRouter}})},1705:(e,a,t)=>{"use strict";t.d(a,{A:()=>c,AuthProvider:()=>i});var r=t(5155),l=t(2115);let s=(0,t(5553).UU)("your_supabase_project_url_here","your_supabase_anon_key_here"),n=(0,l.createContext)(void 0);function i(e){let{children:a}=e,[t,i]=(0,l.useState)(null),[c,o]=(0,l.useState)(null),[d,u]=(0,l.useState)(!0);(0,l.useEffect)(()=>{s.auth.getSession().then(e=>{var a;let{data:{session:t}}=e;o(t),i(null!=(a=null==t?void 0:t.user)?a:null),u(!1)});let{data:{subscription:e}}=s.auth.onAuthStateChange((e,a)=>{var t;o(a),i(null!=(t=null==a?void 0:a.user)?t:null),u(!1)});return()=>e.unsubscribe()},[]);let m=async()=>{await s.auth.signOut()};return(0,r.jsx)(n.Provider,{value:{user:t,session:c,loading:d,signOut:m},children:a})}function c(){let e=(0,l.useContext)(n);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},3007:(e,a,t)=>{Promise.resolve().then(t.bind(t,6085))},6085:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>o});var r=t(5155),l=t(2115),s=t(5553),n=t(1705),i=t(63);let c=(0,s.UU)("your_supabase_project_url_here","your_supabase_anon_key_here");function o(){let{user:e}=(0,n.A)(),a=(0,i.useRouter)(),[t,s]=(0,l.useState)(!1),[o,d]=(0,l.useState)({name:"",description:"",category:"",location:"",contact_email:"",contact_phone:"",website:"",established_year:"",employee_count:"",certifications:[],carbon_footprint:"",renewable_energy_percentage:"",waste_recycling_rate:"",water_usage_efficiency:"",supply_chain_transparency:""}),u=(e,a)=>{d(t=>({...t,[e]:a}))},m=async t=>{if(t.preventDefault(),!e)return void alert("You must be signed in to register as a supplier");s(!0);try{let t;t=50+5*o.certifications.length,o.renewable_energy_percentage&&(t+=Math.min(.5*parseFloat(o.renewable_energy_percentage),20)),o.waste_recycling_rate&&(t+=Math.min(.3*parseFloat(o.waste_recycling_rate),15)),t=Math.min(Math.round(t),100);let r={...o,established_year:o.established_year?parseInt(o.established_year):null,employee_count:o.employee_count?parseInt(o.employee_count):null,carbon_footprint:o.carbon_footprint?parseFloat(o.carbon_footprint):null,renewable_energy_percentage:o.renewable_energy_percentage?parseFloat(o.renewable_energy_percentage):null,waste_recycling_rate:o.waste_recycling_rate?parseFloat(o.waste_recycling_rate):null,sustainability_score:t,verified:!1,user_id:e.id},{data:l,error:s}=await c.from("suppliers").insert([r]).select().single();if(s)throw s;alert("Supplier registration submitted successfully! Your profile will be reviewed by our team before going live."),a.push("/supplier/".concat(l.id))}catch(e){console.error("Error registering supplier:",e),alert("Error registering supplier: "+e.message)}finally{s(!1)}};return e?(0,r.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto p-8",children:[(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Register as a Supplier"}),(0,r.jsx)("p",{className:"text-gray-600 mt-2",children:"Join GreenChainz and showcase your sustainable business practices to potential partners."})]}),(0,r.jsxs)("form",{onSubmit:m,className:"bg-white p-8 rounded-lg shadow",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Basic Information"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company Name *"}),(0,r.jsx)("input",{type:"text",required:!0,value:o.name,onChange:e=>u("name",e.target.value),className:"w-full p-3 border rounded-lg",placeholder:"Your company name"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),(0,r.jsxs)("select",{required:!0,value:o.category,onChange:e=>u("category",e.target.value),className:"w-full p-3 border rounded-lg",children:[(0,r.jsx)("option",{value:"",children:"Select a category"}),["Manufacturing","Electronics","Textiles","Packaging","Water Treatment","Forestry","Automotive","Food Processing","Construction","Chemicals","Energy","Transportation"].map(e=>(0,r.jsx)("option",{value:e,children:e},e))]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location *"}),(0,r.jsx)("input",{type:"text",required:!0,value:o.location,onChange:e=>u("location",e.target.value),className:"w-full p-3 border rounded-lg",placeholder:"City, State/Country"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Website"}),(0,r.jsx)("input",{type:"url",value:o.website,onChange:e=>u("website",e.target.value),className:"w-full p-3 border rounded-lg",placeholder:"https://yourwebsite.com"})]})]}),(0,r.jsxs)("div",{className:"mt-6",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company Description *"}),(0,r.jsx)("textarea",{required:!0,value:o.description,onChange:e=>u("description",e.target.value),rows:4,className:"w-full p-3 border rounded-lg",placeholder:"Describe your company, products, and sustainability practices..."})]})]}),(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Contact Information"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Email *"}),(0,r.jsx)("input",{type:"email",required:!0,value:o.contact_email,onChange:e=>u("contact_email",e.target.value),className:"w-full p-3 border rounded-lg",placeholder:"contact@yourcompany.com"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Phone"}),(0,r.jsx)("input",{type:"tel",value:o.contact_phone,onChange:e=>u("contact_phone",e.target.value),className:"w-full p-3 border rounded-lg",placeholder:"+1 (555) 123-4567"})]})]})]}),(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Company Details"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Founded Year"}),(0,r.jsx)("input",{type:"number",min:"1800",max:new Date().getFullYear(),value:o.established_year,onChange:e=>u("established_year",e.target.value),className:"w-full p-3 border rounded-lg",placeholder:"2020"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Number of Employees"}),(0,r.jsx)("input",{type:"number",min:"1",value:o.employee_count,onChange:e=>u("employee_count",e.target.value),className:"w-full p-3 border rounded-lg",placeholder:"50"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Supply Chain Transparency"}),(0,r.jsxs)("select",{value:o.supply_chain_transparency,onChange:e=>u("supply_chain_transparency",e.target.value),className:"w-full p-3 border rounded-lg",children:[(0,r.jsx)("option",{value:"",children:"Select level"}),(0,r.jsx)("option",{value:"High",children:"High"}),(0,r.jsx)("option",{value:"Medium",children:"Medium"}),(0,r.jsx)("option",{value:"Low",children:"Low"})]})]})]})]}),(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Certifications"}),(0,r.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Select all certifications your company holds:"}),(0,r.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:["ISO 14001","ISO 9001","FSC Certified","PEFC Certified","USDA Organic","Fair Trade Certified","Energy Star Partner","LEED Certified","Carbon Neutral Certified","GOTS Certified","SA8000","B Corp Certified"].map(e=>(0,r.jsxs)("label",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"checkbox",checked:o.certifications.includes(e),onChange:()=>{d(a=>({...a,certifications:a.certifications.includes(e)?a.certifications.filter(a=>a!==e):[...a.certifications,e]}))},className:"mr-2"}),(0,r.jsx)("span",{className:"text-sm",children:e})]},e))})]}),(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Sustainability Metrics"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Annual Carbon Footprint (tons COâ‚‚)"}),(0,r.jsx)("input",{type:"number",step:"0.01",min:"0",value:o.carbon_footprint,onChange:e=>u("carbon_footprint",e.target.value),className:"w-full p-3 border rounded-lg",placeholder:"1250.50"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Renewable Energy Usage (%)"}),(0,r.jsx)("input",{type:"number",min:"0",max:"100",step:"0.1",value:o.renewable_energy_percentage,onChange:e=>u("renewable_energy_percentage",e.target.value),className:"w-full p-3 border rounded-lg",placeholder:"85.5"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Waste Recycling Rate (%)"}),(0,r.jsx)("input",{type:"number",min:"0",max:"100",step:"0.1",value:o.waste_recycling_rate,onChange:e=>u("waste_recycling_rate",e.target.value),className:"w-full p-3 border rounded-lg",placeholder:"92.3"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Water Usage Efficiency"}),(0,r.jsxs)("select",{value:o.water_usage_efficiency,onChange:e=>u("water_usage_efficiency",e.target.value),className:"w-full p-3 border rounded-lg",children:[(0,r.jsx)("option",{value:"",children:"Select efficiency"}),(0,r.jsx)("option",{value:"Excellent",children:"Excellent"}),(0,r.jsx)("option",{value:"Good",children:"Good"}),(0,r.jsx)("option",{value:"Average",children:"Average"}),(0,r.jsx)("option",{value:"Poor",children:"Poor"})]})]})]})]}),(0,r.jsx)("div",{className:"flex justify-end",children:(0,r.jsx)("button",{type:"submit",disabled:t,className:"bg-green-700 text-white px-8 py-3 rounded-lg hover:bg-green-600 disabled:opacity-50 disabled:cursor-not-allowed",children:t?"Submitting...":"Register Supplier"})})]})]})}):(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Supplier Registration"}),(0,r.jsx)("p",{className:"mb-6 text-gray-600",children:"You must be signed in to register as a supplier."}),(0,r.jsx)("a",{href:"/auth",className:"bg-green-700 text-white px-6 py-3 rounded-lg hover:bg-green-600 transition-colors",children:"Sign In"})]})})}}},e=>{e.O(0,[553,441,255,358],()=>e(e.s=3007)),_N_E=e.O()}]);